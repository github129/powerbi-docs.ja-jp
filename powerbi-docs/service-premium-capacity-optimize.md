---
title: Microsoft Power BI Premium 容量を最適化します。
description: Power BI Premium 容量の最適化の戦略について説明します。
author: mgblythe
ms.author: mblythe
manager: kfile
ms.reviewer: ''
ms.service: powerbi
ms.subservice: powerbi-admin
ms.topic: conceptual
ms.date: 04/09/2019
ms.custom: seodec18
LocalizationGroup: Premium
ms.openlocfilehash: 06712b6bcf57ca84ec03d2c7b99b32ea61ad8c71
ms.sourcegitcommit: 60dad5aa0d85db790553e537bf8ac34ee3289ba3
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/29/2019
ms.locfileid: "65565324"
---
# <a name="optimizing-premium-capacities"></a>Premium 容量の最適化

Premium 容量のパフォーマンスの問題が発生したときに、一般的な最初の方法は、最適化するか、許容される応答時間を復元するソリューションを調整するは。 "The rationale"正当化しない限り、追加の Premium 容量の購入を回避することができます。

追加の Premium 容量が必要な場合は、この記事で説明されている 2 つのオプションがあります。

- 既存の Premium 容量をスケール アップ
- 新しい Premium 容量を追加します。

最後に、テストと結論付けるこの記事のアプローチと Premium 容量のサイズ変更します。

## <a name="best-practices"></a>ベスト プラクティス

最適な使用率とパフォーマンスを取得しようとすると、ときにを含む、推奨されるベスト プラクティスがあります。

- 個人用ワークスペースではなくアプリ ワークスペースを使用します。
- さまざまな容量には、ビジネスに不可欠とセルフ サービス BI (SSBI) を分離することです。

  ![さまざまな容量にビジネスに不可欠とセルフ サービス BI を分離すること](media/service-premium-capacity-optimize/separate-capacities.png)

- Power BI Pro ユーザーにのみコンテンツを共有している場合があるありません専用容量にコンテンツを格納する必要があります。
- 特定の更新時間を実現するために検索するときに、または特定の機能が必要な場合は、専用の容量を使用します。 たとえば、大規模なデータセットや改ページ調整されたレポートを含む

### <a name="addressing-common-questions"></a>一般的な質問への対応

ワークロードの要件、使用可能なリソース、およびその効果的な使用の理解に関連する複雑なテーマは、Power BI Premium の展開を最適化します。

この記事では、考えられる問題と説明については、および特定し、それらを解決する方法について説明する、7 つの一般的なサポート質問を説明します。

### <a name="why-is-the-capacity-slow-and-what-can-i-do"></a>非常に遅く、容量がある理由と、何ができますか。

低速な Premium 容量に投稿できる多くの理由があります。 この質問は、さらに低速で意味を理解する情報に必要です。 レポートは、読み込みに時間がかかるでしょうか。 または、読み込みに失敗しているでしょうか。 レポートのビジュアルは、読み込むか更新するユーザーがレポートと対話するときに時間がかかるでしょうか。 更新されますを取得したり、発生した場合よりも長いですか。

理由の理解を得られることを調査し、開始できます。 次の 6 つの質問への応答に詳細に対処する際に役立つ特定の問題。

### <a name="what-content-is-using-up-my-capacity"></a>コンテンツは、容量を使用しますか。

使用することができます、 **Power BI Premium 容量メトリック**アプリを可能でフィルター処理して、ワークスペースのコンテンツのパフォーマンス メトリックを確認します。 Premium 容量内に格納されているすべてのコンテンツの過去 7 日間の時間単位でパフォーマンス メトリックとリソースの使用法を確認することになります。 監視は、Premium 容量のパフォーマンスに関する一般的な問題のトラブルシューティング時に実行する最初の手順では多くの場合です。

主要なメトリックを監視する次のとおりです。

- 平均 CPU 使用率が高い数.
- メモリ使用率が高い数、および特定のデータセット、データフロー、およびページ分割されたレポートのメモリ使用量の平均です。
- アクティブなデータセットは、メモリに読み込まれます。
- クエリの平均値と最大期間。
- クエリの平均待機時間。
- 平均のデータセットとデータ フローは、時間を更新します。

Power BI Premium 容量メトリックのアプリケーションでは、アクティブなメモリは、過去 3 分間内で使用されているために、削除されることはできませんをレポートに指定されたメモリの総量を示します。 更新の待機時間で高スパイクは、大規模なまたはアクティブなデータセットと関連付ける可能性があります。

**平均実行時間による上位 5**グラフには、上位 5 つのデータセット、改ページ調整されたレポート、および容量のリソース消費のデータフローが強調表示されます。 上位 5 つのコンテンツ リストが調査と考えられる最適化の候補とします。

### <a name="why-are-reports-slow"></a>速度の遅いレポートはなぜですか。

次の表は、考えられる問題とを識別して、それらを処理する方法を示します。

#### <a name="insufficient-capacity-resources"></a>リソースの容量が不足しています

| 可能性のある説明 | 識別する方法 | 解決する方法 |
| --- | --- | --- |
| 高の合計アクティブなメモリ (モデルには過去 3 分間内で使用されているために削除できません)。<br><br> クエリで複数の高スパイクは待機時間です。<br><br> 複数の高い更新急増の待機時間。 | メモリ メトリックを監視\[ [1](#endnote-1)\]、および削除数\[ [2](#endnote-2)\]します。 | モデルのサイズを削減するか、DirectQuery モードに変換します。 参照してください、[モデルの最適化](#optimizing-models)この記事の「します。<br><br> 容量をスケール アップします。<br><br> コンテンツを別の容量に割り当てます。 |

#### <a name="inefficient-report-designs"></a>非効率的なレポートのデザイン

| 可能性のある説明 | 識別する方法 | 解決する方法 |
| --- | --- | --- |
| レポート ページには、(対話型のフィルター処理をトリガーできるビジュアルごとに少なくとも 1 つのクエリ) が多すぎるのビジュアルが含まれています。<br><br> ビジュアルでは、必要に応じてより多くのデータを取得します。 | レポートのデザインを確認します。<br><br> レポートとやり取りする方法を理解するレポートのユーザーにインタビューします。<br><br> データセット クエリのメトリックを監視\[ [3](#endnote-3)\]します。 | 1 ページあたりの数のビジュアルでレポートを再設計します。 |

#### <a name="dataset-is-slow-especially-when-reports-have-previously-performed-well"></a>レポートをも実行していた場合は特に、データセットが非常に遅く、

| 可能性のある説明 | 識別する方法 | 解決する方法 |
| --- | --- | --- |
| インポートのデータの量は急速です。<br><br> RLS の役割を含む複雑な非効率的な計算ロジック。<br><br> モデルが完全に最適化します。<br><br> (DQ/LC)ゲートウェイの待機時間。<br><br> 低速 DQ ソース クエリ応答時間。 | モデルの設計を確認します。<br><br> ゲートウェイのパフォーマンス カウンターを監視します。 | 参照してください、[モデルの最適化](#optimizing-models)この記事の「します。 |

#### <a name="high-concurrent-report-usage"></a>高い同時実行のレポートの利用状況

| 可能性のある説明 | 識別する方法 | 解決する方法 |
| --- | --- | --- |
| 高いクエリ待機時間。<br><br> CPU の鮮やかさ。<br><br> DQ LC/接続の制限を超えています。 | CPU 使用率を監視\[ [4](#endnote-4)\]、クエリの待機時間と使用率の DQ/LC \[ [5](#endnote-5) \]メトリック + クエリ期間。 変動する場合に、同時実行の問題を指定できます。 | スケール アップ、容量、または、コンテンツを別の容量に割り当てます。<br><br> 1 ページあたりの数のビジュアルでレポートを再設計します。 |

**メモ:**    
<a name="endnote-1"></a>\[1\]平均メモリ使用量 (GB) と最大のメモリ消費量 (GB)。   
<a name="endnote-2"></a>\[2\]データセット立ち退き数。   
<a name="endnote-3"></a>\[3\]データセット クエリ、データセットの平均クエリ実行時間 (ミリ秒) データセット待機の数、およびデータセットの平均待機時間 (ミリ秒)。   
<a name="endnote-4"></a>\[4\]高使用率の CPU 数と使用率の高い (過去 7 日間) の CPU 時間。   
<a name="endnote-5"></a>\[5\] DQ/LC 高使用率カウントと使用率の高い (過去 7 日間) の DQ/LC 時刻。   

### <a name="why-are-reports-not-loading"></a>レポートはなぜ読み込まれていませんか?

レポートは、読み込みに失敗する場合は、容量が十分なメモリが、過剰過熱はことを意味します。 これは、読み込まれたすべてのモデルがアクティブに照会しているため削除できるは、され、ときに、更新操作が一時停止または遅延に発生します。 Power BI サービスは、30 秒間に、データセットを読み込むしようし、提案をすぐにもう一度試すと、エラーのユーザーに通知が正常にします。

現在のレポートの読み込みエラーを監視するメトリックはありません。 監視のシステム メモリ、具体的には最高の使用率および使用率を最大の時間によっては、この問題が発生する可能性を特定できます。 高データセット立ち退き数とデータセットの更新の平均待機時間長は、この問題が発生している提案でした。

非常にときどきこの場合、このことがありますは考慮されません優先度の問題。 レポート ユーザーには、サービスがビジー状態、短時間の後に再試行すべきことが通知されます。 頻度が高すぎるこのような場合、Premium 容量のスケール アップによって、またはコンテンツを別の容量に割り当てることで、問題を解決できます。

容量の管理者 (と Power BI のサービス管理者) を監視できます、**クエリが失敗した**これが行われるタイミングを決定するメトリックです。 容量は、システムのオーバー ロードが発生した場合、すべての操作をリセットするを再起動することもできます。

### <a name="why-are-refreshes-not-starting-on-schedule"></a>理由の更新を開始していませんスケジュールででしょうか。

スケジュールされた更新の開始時刻とは限りません。 Power BI サービスがバック グラウンド操作をよりで対話型操作を優先は常にことを思い出してください。 更新は、2 つの条件が満たされたときに発生するバック グラウンド操作を示します。

- 十分なメモリがあります。
- Premium 容量の同時更新がサポートされている数を超えていません。

条件が満たされていないときに、条件が有利になるまで、更新がキューにします。

完全な更新では、データセットの現在のメモリ サイズを少なくとも 2 倍のリコールが必要です。 十分なメモリが利用できない場合は、メモリが解放されるモデルの削除 - つまり、1 つまたは複数のデータセットが非アクティブになり削除できるまでに遅延が発生するまで、更新は開始できません。

サポートされている最大の同時実行更新数が 1.5 倍、バックエンド v コア、切り上げに設定されていることを思い出してください。

[次へ] のスケジュールされた更新が開始する前に、開始ことはできません、スケジュールされた更新は失敗します。 UI から手動でトリガーをオンデマンドでの更新は失敗するまでに最大 3 回を実行しようとします。

容量の管理者 (と Power BI のサービス管理者) を監視できます、**平均更新待機時間 (分)** スケジュールされた時刻と操作の開始の間の平均遅延を決定するメトリックです。

通常は時刻のデータに影響を与える、管理用の優先順位を更新、する間は、十分なメモリが使用できることを確認します。 これは、既知のための十分なリソースと容量にデータセットを分離するが含まれる可能性があります。 Admins でした時差を設定する、競合を最小限に抑えるの定期データ更新の時間を短縮したりするデータセットの所有者を連携することもできます。 管理者は、キュー更新を表示したり、データセットのスケジュールを取得することはできませんに注意してください。

### <a name="why-are-refreshes-slow"></a>低速の更新はなぜですか。

更新には、低速、または (以前の一般的な質問アドレス) と低速であるユーザーの体感を指定できます。

更新が実際には低速のときは、いくつかの理由が考えられますことができます。

- CPU が不足しています (更新は非常に CPU を消費するを指定できます)。
- 結果として更新を一時停止する (これは、最初からやり直す場合の条件に recommence に有利な更新が必要) が不足しているメモリ。
- データ ソース システムの応答性、ネットワーク待機時間、無効なアクセス許可、またはゲートウェイのスループットを含む理由から、非容量。
- データ ボリュームの増分を構成する正当な理由を更新後で説明します。

容量の管理者 (と Power BI のサービス管理者) を監視できます、**平均更新期間 (分)** 時間の経過と共に、比較のためのベンチマークを決定するメトリックと**平均更新待機時間 (分)** 間の平均遅延を決定するメトリックの平均、スケジュールされた時刻と操作の開始の間遅延します。

増分更新では、特に大規模なモデルのテーブルのデータを更新するための所要時間を大幅に短縮できます。 これには増分更新に関連付けられている 4 つの利点があります。

- **更新は高速**- テーブルのサブセットのみに読み込み、削減の CPU およびメモリの使用が必要があるし、複数のパーティションを更新するときに、並列処理が高くなることができます。
- **必要な場合にのみ更新が発生する**-を読み込むデータが変更されたときにのみ、増分更新ポリシーを構成できます。
- **更新はより信頼性の高い**-揮発性データのソース システムに短い実行中の接続が切断されたときに受けにくくなります。
- **モデルのままトリム**-増分更新ポリシーは、時間のスライディング ウィンドウ外の履歴を自動的に削除するように構成できます。

詳細についてを参照してください。[は Power BI Premium の増分更新](service-premium-incremental-refresh.md)します。

### <a name="why-are-data-refreshes-not-completing"></a>完了していないを更新するデータはなぜですか。

データ更新では、開始が完了に失敗した場合は、いくつかの理由が考えられますことができます。

- メモリ不足、Premium 容量で 1 つのみのモデルがある場合でもつまりモデルのサイズが大きくなります。
- データ ソース システムの切断、アクセス許可の無効なゲートウェイによるエラーなどの非容量理由。

容量の管理者 (と Power BI のサービス管理者) を監視できます、**メモリ不足により更新エラー**メトリック。

## <a name="optimizing-models"></a>モデルの最適化

最適なモデルのデザインは効率的でスケーラブルなソリューションを提供するために重要です。 ただし、完全なディスカッションを提供するには、この記事の範囲外なります。 代わりに、このセクションでは、主要な分野の考慮事項のモデルを最適化するときにします。

### <a name="optimizing-power-bi-hosted-models"></a>Power BI を最適化するには、モデルがホストされています。

データソースとモデルのレイヤーでは、Premium 容量でホストされているモデルの最適化を実現できます。

モデルのインポートの最適化の可能性を考慮してください。

![モデルのインポートの最適化の可能性](media/service-premium-capacity-optimize/import-model-optimizations.png)

データ ソース層。

- 最速の可能な更新を確実にデータの事前統合、適切なインデックスを適用することや、増分更新期間に合致するテーブルのパーティションを定義する計算を具体化することで最適化できますリレーショナル データ ソース (の代わりに計算されます。テーブルと列をモデル化) または計算ロジックをビューに追加します。
- 非リレーショナル データ ソースは、リレーショナル ストアと事前統合できます。
- ゲートウェイがあるための十分なネットワーク帯域幅とデータ ソースの近くに専用のマシンであれば、十分なリソースを確認します。

モデル層。

- 電源クエリのクエリの設計では、最小限に抑えるしたり、複雑な変換と特にマージ (データ ウェアハウスこれを実現する、抽出-変換-読み込みステージ中に) さまざまなデータ ソースを削除することができます。 また、設定はその適切なデータ ソースのプライバシー レベルを確保、Power BI に複数のクエリで結合された結果を生成するために完全な結果を読み込みを必要とするこれを回避できます。
- モデル構造では、読み込むデータを決定し、モデルのサイズに直接影響を及ぼします。 これは、(特に履歴データ) の行を削除する列を削除することで、または (ただし、詳細なデータの読み込み) の集計データを読み込むことによって、不要なデータの読み込みを回避するために設計できます。 非常に効率よく圧縮または保存しないでください (特にテキスト列) が高カーディナリティで列を削除することで、大きなサイズの縮小を実現できます。
- 双方向のフィルター処理を許可する特別な理由がない限り、一方向のリレーションシップを構成することによって、モデルのクエリ パフォーマンスを向上できます。 使用しても検討してください、 [CROSSFILTER](https://docs.microsoft.com/dax/crossfilter-function)双方向のフィルター処理ではなく関数。
- 集計テーブルは、これには、更新に時間がかかるのモデルと結果のサイズが増えますが、読み込むことによって応答の事前集計データを高速なクエリを実現できます。 一般に、非常に大規模なモデルや複合モデル デザインの集計テーブルを予約する必要があります。
- 計算テーブルおよび列は、モデルのサイズを増やすし、更新に時間がかかると。 一般に、ストレージ サイズを小さくと更新時間の短縮を実現できます、データが具体化またはデータ ソースで計算されます。 それができない場合は、Power Query のカスタム列を使用すると強化されたストレージの圧縮を提供できます。
- メジャーおよびおそらく高価な数式を回避するためのロジックを書き直し、RLS のルールの DAX 式を調整する機会がある可能性があります。
- 増分更新は大幅に更新時間を短縮し、メモリと CPU の節約します。 トリム モデルのサイズを保持する履歴データを削除する、増分更新を構成することもできます。
- さまざまなと競合しているクエリのパターンがある場合に、2 つのモデルとしてモデルを再設計でした。 たとえば、レポートの一部がすべての履歴、およびが存在する高度な集計が 24 時間の待機時間を許容します。 他のレポートは、今日のデータとしていて、個々 のトランザクションへのきめ細かいアクセスを必要があります。 デザインではなく、すべてのレポートを満たすために 1 つのモデルは、各要件用に最適化された 2 つのモデルを作成します。

DirectQuery モデルの最適化の可能性を検討してください。 モデルは、基になるデータ ソースにクエリ要求を発行、データ ソースの最適化が応答性の高いモデルのクエリを配信するために重要です。

 ![DirectQuery モデルの最適化の可能性](media/service-premium-capacity-optimize/direct-query-model-optimizations.png)

データ ソース層。

- データ ソースを最適化することが確実に、最も高速な可能なクエリを実行する (データ モデル レイヤーでことはできません)、適切なインデックスを適用することを事前に統合することによって、具体化、テーブルのパーティションを定義する (インデックス付きビューの場合) を使用してデータを集計と計算の量を最小限に抑えます。 パススルー クエリは、のみをフィルター処理し、インデックス付きのテーブルまたはビューの間の内部結合を実行する必要がある場合、最適なエクスペリエンスが実現されます。
- ゲートウェイがあるための十分なネットワーク帯域幅とは、データ ソースの近くに専用のマシンであれば、十分なリソースを確認します。

モデル層。

- Power Query のクエリの設計が可能であればは適用されません変換 - 最小の絶対パスへの変換を保持しようとするはそれ以外の場合。
- 双方向のフィルター処理を許可する特別な理由がない限り、一方向のリレーションシップを構成することによって、モデルのクエリ パフォーマンスを向上できます。 (このような場合) ときに参照整合性が適用されると仮定するリレーションシップをモデル化を構成することも、(外部結合) ではなくより効率的な内部結合を使用してデータ ソースのクエリが発生します。
- Power Query のクエリのカスタム列または計算列のモデルを作成しないように - これらの可能な場合は、datasource を具体化します。
- メジャーおよびおそらく高価な数式を回避するためのロジックを書き直し、RLS のルールの DAX 式を調整する機会がある可能性があります。

複合モデルの最適化の可能性を検討してください。 複合モデルのインポートと DirectQuery テーブルの両方でできることを思い出してください。

![複合モデルの最適化の可能性](media/service-premium-capacity-optimize/composite-model-optimizations.png)

- 一般に、インポートと DirectQuery モデルの最適化は、これらのストレージ モードを使用する複合モデル テーブルに適用されます。
- 通常、努めてディメンションの種類のテーブル (ビジネス エンティティを表す) を構成することによってバランスの取れたデザインを実現するために 2 つのストレージ モードとファクトの種類のテーブル (多くの場合、大規模なテーブル、運用上の点を表す) として DirectQuery ストレージ モードとしています。 デュアル ストレージ モードは、両方をインポートおよび DirectQuery ストレージ モード、およびこれにより、Power BI サービスのパススルー ネイティブ クエリを生成するときに使用する最も効率的なストレージ モードを確認するのには意味します。
- ゲートウェイがあるための十分なネットワーク帯域幅とデータ ソースの近くに専用のマシンであれば、十分なリソースを確認します。
- 集計のテーブルには、インポートのストレージ モードは、DirectQuery ストレージ モードのファクトの種類のテーブルの集計に使用するときに劇的なクエリ パフォーマンスの機能強化を実現できますが構成されています。 この場合は、集計のテーブルにより、モデルのサイズが向上し、更新時刻、および多くの場合は、許容可能なトレードオフの高速なクエリ。

### <a name="optimizing-externally-hosted-models"></a>ホストされているモデルを外部からの最適化

説明した多くの最適化の可能性、 [Power BI を最適化するには、モデルがホストされている](#optimizing-power-bi-hosted-models)セクションは、Azure Analysis Services と SQL Server Analysis Services を使用して開発モデルにも適用されます。 消去の例外は、現在サポートされていないなどの複合モデルの集計テーブルを特定の機能です。

データセットの外部でホストされている別の考慮事項は、Power BI サービスとの関連をホストしているデータベースです。 Azure Analysis Services、Power BI テナント (ホーム リージョン) と同じリージョンに Azure リソースを作成することを意味します。 SQL Server Analysis services、iaas、これは、同じリージョン内の VM をホストしていることを意味し、オンプレミスのことには、効率的なゲートウェイ セットアップの確認を意味します。

余談ですが、Azure Analysis Services データベースと SQL Server Analysis Services 表形式データベースは、そのモデルがメモリに完全に読み込まれている必要があり、クエリをサポートするために常にあることがありますすべてのことに注意してくださいに関心のある可能性があります。 Power BI サービスのようにする場合は、更新中に、モデルがオンライン状態を維持する必要がありますを更新するための十分なメモリが必要です。 Power BI サービスとは異なりは、概念モデルが使用量に応じてメモリとの間に自動的に期限切れことはありません。 Power BI Premium では、そのため、モデルがメモリ使用量を削減を使用したクエリを最大化するより効率的なアプローチを提供します。

## <a name="capacity-planning"></a>容量計画

Premium 容量のサイズには、その使用可能なメモリおよびプロセッサ リソースと容量に制限が決定します。 Premium 容量の数は、の考慮事項もワークロードを互いの特定の容量に役立つ複数の Premium を作成します。 1 つのノードの容量、ストレージ容量は 100 TB 以上のすべてのワークロードに十分である可能性があることに注意してください。

Premium 容量の数とサイズを決定することは容易で特にの初期容量を作成する場合。 容量のサイズ変更は、ワークロードの平均を表すかを理解するときに、最初の手順では、毎日の使用状況が必要です。 すべてのワークロードが等しいことを理解しておく必要があります。 例: -、スペクトルの一方の end 100 の同時実行ユーザーが 1 つのビジュアルを含む 1 つのレポート ページへのアクセスが簡単に行えます。 まだ - - スペクトルのもう一方の端に 100 の同時実行ユーザーが 100 のさまざまなレポートへのアクセス レポート ページで、100 のビジュアルで各します。 リソースの容量の需要を非常に異なる。

容量管理者は、そのため、環境、コンテンツと予想される使用状況に固有の多くの要因を考慮する必要があります。 オーバーライドする目的は、一貫性のあるクエリ時間、許容される待機時間、および削除率を提供する一方、容量使用率を最大化します。 考慮すべき要因を含めることができます。

- **サイズとデータの特性をモデル化**-モデルのインポート クエリまたは更新を許可するメモリに完全に読み込まれる必要があります。 LC/DQ データセットには、大量のプロセッサの時間と複雑なメジャーまたは RLS のルールを評価する可能性がある重大なメモリを要求できます。 メモリとプロセッサのサイズ、LC/DQ クエリのスループットは、容量のサイズによって制限されます。
- **同時実行の有効なモデル**-さまざまなインポートのモデルの同時実行クエリは配信応答性とパフォーマンスを最適なメモリ内にあるときにします。 最新の更新を許可する追加のメモリと、頻繁にクエリするすべてのモデルをホストするための十分なメモリが必要です。
- **モデルの更新をインポート**-更新の種類 (フルまたは増分)、期間、および Power Query のクエリとテーブル/列の計算ロジックの複雑さのメモリとプロセッサ使用率が特に影響を与えることができます。 同時更新は、容量のサイズ (1.5 x backend v コア、切り上げ) によって制限されます。
- **同時実行クエリ**-により、多くの同時実行クエリに応答した場合に報告プロセッサまたは LC/DQ 接続容量の上限を超えています。 これは、さまざまなビジュアルを含むレポート ページの場合、特にです。
- **データフロー ページ分割されたレポートと**-容量は、データフローと容量のメモリが構成可能な最大パーセンテージを必要とする各での改ページ調整されたレポートをサポートするように構成できます。 メモリは、データフローに動的に割り当てられているが、ページ分割されたレポートに静的に割り当てられています。

これらの要因では、容量管理者は複数の容量の作成を検討できます。 複数の容量は、ワークロードの分離に使用して、優先度のワークロードのリソースが保証されることを確認するように構成できます。 たとえば、セルフ サービス BI (SSBI) ワークロードからビジネス クリティカルなワークロードを分離する 2 つの容量を作成できます。 IT 部門にのみ与えられるアクセスのオーサリングの保証されたリソースを提供する大規模な企業のモデルを分離する、ビジネスに不可欠な容量を使用できます。 ビジネス アナリストに与えられるアクセス権を持つ多数の小さなモデルをホストする SSBI 容量を使用できます。 SSBI 容量は、許容可能であるクエリまたは更新の待機にあります。

時間の経過と共に容量管理者は容量をスケール アップまたはスケール ダウンすることによって、ワークスペース、または、容量間ワークスペース間でコンテンツを移動することによって、容量にワークスペースを分散できます。 一般に、高い同時実行性と、ホストより大規模なモデルのスケール アップをスケール アウトします。

V コアを持つテナントの提供にライセンスを購入していることを思い出してください。 購入、 **P3**に従って作成するか、最大で 4 つの Premium 容量では、サブスクリプションを使用できます P3、または P2、x 2 または 4 x 1 つまり x P1 します。 また、アップサイズ P2 容量 P3 容量を前に考慮対象としてを指定できる仮想コアを分割 P1 の 2 つの容量を作成します。

## <a name="testing-approaches"></a>テスト アプローチ

容量サイズを終えたら、制御された環境を作成してテストを実行できます。 実践的かつ経済的なオプションは作成 P1 容量が、p2、A4 容量と同じサイズであるかを示す、Azure (A Sku) のキャパシティと P3 容量、A5、A6 容量と同じサイズそれぞれします。 Azure の容量は、簡単に作成でき、時間単位で課金されます。 そのため、テストが完了すると簡単に削除するコストを止めるにします。

テストのコンテンツ容量は、Azure で作成されたワークスペースに追加することができ、1 人のユーザーとしては実行クエリの現実的な代表的なワークロードを生成するレポート。 インポート モデルがある場合は、各モデルの更新も実行する必要があります。 監視ツールは、リソース使用率を理解するすべてのメトリックを確認し、使用できます。

テストは反復可能なことが重要です。 テストを複数回を実行して毎回同じ結果を約、配信する必要があります。 推定は true。 運用環境の条件下でのワークロードを推定するこれらの結果の平均を使用できます。

ストレス テストを生成するには、負荷テスト現実的なワークロードをシミュレートするためにアプリケーションの開発を検討してください。 これを実現する方法の詳細については、この記事の範囲外です。 さらに、コード サンプルについてを参照してください、 [Power BI のアプリケーションのテストを Visual Studio ロード テストで読み込む](https://blogs.msdn.microsoft.com/charles_sterling/2018/04/04/webinar-load-testing-power-bi-applications-with-visual-studio-load-test/)ウェビナー。

## <a name="acknowledgements"></a>受信確認

この記事の執筆者、Peter Myers、データ プラットフォームの MVP および独立系の BI エキスパートと[ソリューションではビット演算](https://www.bitwisesolutions.com.au/)します。

## <a name="next-steps"></a>次の手順

> [!div class="nextstepaction"]
> [Premium 容量のシナリオ](service-premium-capacity-scenarios.md)   
  
他にわからないことがある場合は、 [Power BI コミュニティで質問してみてください](https://community.powerbi.com/)。

||||||